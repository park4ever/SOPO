# SOPO: ì˜¤í”ˆ íŒ¨ì…˜ ë§ˆì¼“ í”Œë«í¼

ëˆ„êµ¬ë‚˜ ìƒˆ ì˜·ê³¼ ì¤‘ê³  ì˜·ì„ ììœ ë¡­ê²Œ ì‚¬ê³ íŒ” ìˆ˜ ìˆëŠ”,  
ê°œì¸ê³¼ ì…€ëŸ¬ ëª¨ë‘ë¥¼ ìœ„í•œ ì˜ë¥˜ ì¤‘ì‹¬ ì˜¤í”ˆë§ˆì¼“ì…ë‹ˆë‹¤.

íŒë§¤ìëŠ” ì…ì  í›„ ìƒí’ˆì„ ë“±ë¡í•˜ê³ ,  
ì‚¬ìš©ìëŠ” ì¥ë°”êµ¬ë‹ˆì™€ ê²°ì œë¥¼ í†µí•´ ì˜·ì„ êµ¬ë§¤í•©ë‹ˆë‹¤.  
ê´€ë¦¬ìëŠ” íŒë§¤ì ìŠ¹ì¸ê³¼ ìš´ì˜ì„ ë§¡ìœ¼ë©°,  
ê° ì—­í• ì— ë”°ë¼ ê¶Œí•œì´ ë¶„ë¦¬ë˜ì–´ ì‘ë™í•©ë‹ˆë‹¤.

---

## ì£¼ìš” ê¸°ëŠ¥

- íšŒì›ê°€ì… ë° ë¡œê·¸ì¸
- íŒë§¤ì ìƒí’ˆ ë“±ë¡ / ìˆ˜ì •
- ì¥ë°”êµ¬ë‹ˆ ê¸°ëŠ¥
- ì£¼ë¬¸ ìƒì„± ë° ê²°ì œ
- ì‚¬ìš©ì / íŒë§¤ì / ê´€ë¦¬ì ê¶Œí•œ ë¶„ë¦¬

---

## ì‚¬ìš© ê¸°ìˆ 

- Spring Boot 3.5.4
- JPA (Hibernate)
- Spring Security
- Thymeleaf
- MySQL 8.x
- Gradle

---

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
com.sopo
â”œâ”€â”€ config          : ì„¤ì • í´ë˜ìŠ¤ (ë³´ì•ˆ, JPA, Web ë“±)
â”œâ”€â”€ controller      : MVC + REST API ì»¨íŠ¸ë¡¤ëŸ¬
â”œâ”€â”€ domain          : í•µì‹¬ ì—”í‹°í‹°
â”œâ”€â”€ dto             : ìš”ì²­/ì‘ë‹µ DTO
â”œâ”€â”€ repository      : JPA ê¸°ë°˜ ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ
â”œâ”€â”€ service         : ë„ë©”ì¸ ë‹¨ìœ„ ì„œë¹„ìŠ¤
â”œâ”€â”€ exception       : ì—ëŸ¬ ì½”ë“œ ë° ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ˆì™¸
â””â”€â”€ common          : ê³µí†µ ìœ í‹¸, ì¸ì¦ ê´€ë ¨
```


---

## ì£¼ë¬¸ / ê²°ì œ / ë°°ì†¡ ìƒíƒœ ì „ì´ ê·œì¹™

> ğŸ’¡ ì‹¤ì œ enum ì´ë¦„(`OrderStatus`, `PaymentStatus`, `DeliveryStatus`)ê³¼ ì •í™•íˆ ë§ì¶”ì–´ ì‚¬ìš©í•˜ë©°,  
> ì•„ë˜ í‘œëŠ” ì„¤ê³„ ê¸°ì¤€ì´ ë˜ëŠ” ê¸°ë³¸ ìƒíƒœ ì „ì´ ê·œì¹™ì…ë‹ˆë‹¤.

### OrderStatus

| í˜„ì¬ ìƒíƒœ      | ì´ë²¤íŠ¸/í–‰ìœ„                    | ë‹¤ìŒ ìƒíƒœ      | ë¹„ê³                        |
|----------------|--------------------------------|----------------|----------------------------|
| CREATED        | ê²°ì œ ìš”ì²­ ì™„ë£Œ (ê²°ì œ ì‹œë„)     | CREATED        | ìƒíƒœ ë³€í™” ì—†ìŒ             |
| CREATED        | ê²°ì œ ì„±ê³µ (Payment COMPLETED) | PAID           | ì •ìƒ ì£¼ë¬¸ í™•ì •             |
| CREATED        | ê²°ì œ ì „ ì·¨ì†Œ                   | CANCELED       | ì‚¬ìš©ìê°€ ì£¼ë¬¸ ì·¨ì†Œ         |
| PAID           | ë°°ì†¡ ì‹œì‘                      | SHIPPED        | ë¬¼ë¥˜ ì¶œê³                   |
| SHIPPED        | ë°°ì†¡ ì™„ë£Œ                      | COMPLETED      | êµ¬ë§¤ í™•ì •                  |
| PAID           | í™˜ë¶ˆ ì²˜ë¦¬ ì™„ë£Œ                 | REFUNDED       | ì „ì•¡/ë¶€ë¶„ í™˜ë¶ˆ ì •ì±…ì— ë”°ë¦„ |
| PAID/SHIPPED   | ì·¨ì†Œ/í™˜ë¶ˆ ìš”ì²­ â†’ ìŠ¹ì¸         | CANCELED/REFUNDED | ì •ì±…ì— ë”°ë¼ ìƒíƒœ ì„ íƒ  |

> **ì›ì¹™**
> - `CREATED` ìƒíƒœì—ì„œë§Œ ê²°ì œ ì‹œë„/ì·¨ì†Œ ê°€ëŠ¥
> - `PAID` ì´í›„ì—ëŠ” ë‹¨ìˆœ ì·¨ì†Œê°€ ì•„ë‹Œ í™˜ë¶ˆ/ë°˜í’ˆ í”„ë¡œì„¸ìŠ¤ë¡œ ì²˜ë¦¬
> - `COMPLETED` ì´í›„ ìƒíƒœ ë³€ê²½ì€ ì˜ˆì™¸ì ì¸ CS í”„ë¡œì„¸ìŠ¤ì—ì„œë§Œ í—ˆìš©

### PaymentStatus

| í˜„ì¬ ìƒíƒœ   | ì´ë²¤íŠ¸/í–‰ìœ„                  | ë‹¤ìŒ ìƒíƒœ    | ë¹„ê³                            |
|-------------|------------------------------|--------------|--------------------------------|
| READY       | ê²°ì œ ìš”ì²­ ì‹œì‘               | IN_PROGRESS  | PG í˜¸ì¶œ ë“± ì™¸ë¶€ ì—°ë™ ì‹œì‘      |
| IN_PROGRESS | PG ìŠ¹ì¸ ì„±ê³µ ì½œë°±            | COMPLETED    | ì‹¤ì œ ê²°ì œ ê¸ˆì•¡ ìŠ¹ì¸ ì™„ë£Œ       |
| IN_PROGRESS | PG ì‹¤íŒ¨ ì½œë°±                 | FAILED       | í•œë„ ì´ˆê³¼, ì‚¬ìš©ì ì·¨ì†Œ ë“±      |
| READY       | ê²°ì œ ì·¨ì†Œ                    | CANCELED     | ê²°ì œ ì‹œë„ ì·¨ì†Œ                 |
| COMPLETED   | í™˜ë¶ˆ ì²˜ë¦¬ ì™„ë£Œ               | CANCELED     | ì „ì²´ í™˜ë¶ˆ ê¸°ì¤€(ë¶€ë¶„ í™˜ë¶ˆì€ ë³„ë„ ì •ì±…) |

> **ì›ì¹™**
> - í•˜ë‚˜ì˜ `Order`ì— ëŒ€í•´ **ìœ íš¨í•œ PaymentëŠ” 1ê°œ**ë§Œ ì¡´ì¬ (DB ìœ ë‹ˆí¬ ì œì•½ ê³ ë ¤)
> - `COMPLETED` ìƒíƒœì˜ ê²°ì œì— ëŒ€í•´ ì¬ìŠ¹ì¸/ì¤‘ë³µ ìŠ¹ì¸ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ **ì˜ˆì™¸**ë¡œ ì²˜ë¦¬
> - `FAILED`/`CANCELED` ì´í›„ ì¬ê²°ì œëŠ” **ìƒˆ Payment** ë˜ëŠ” ìƒíƒœ ì „ì´ ì •ì±…ì— ë”°ë¦„

### DeliveryStatus

| í˜„ì¬ ìƒíƒœ | ì´ë²¤íŠ¸/í–‰ìœ„        | ë‹¤ìŒ ìƒíƒœ      | ë¹„ê³                   |
|-----------|--------------------|----------------|-----------------------|
| READY     | ë°°ì†¡ ì •ë³´ ìƒì„±     | READY          | ì£¼ë¬¸ ìƒì„± ì‹œ ì´ˆê¸° ìƒíƒœ |
| READY     | ë¬¼ë¥˜ ì¤€ë¹„ ì‹œì‘     | PREPARING      | í”¼í‚¹/íŒ¨í‚¹ ë‹¨ê³„        |
| PREPARING | íƒë°°ì‚¬ ì¸ê³„ / ì¶œê³  | IN_TRANSIT     | ìš´ì†¡ ì¤‘               |
| IN_TRANSIT| ë°°ì†¡ ì™„ë£Œ ìŠ¤ìº”     | COMPLETED      | ê³ ê° ìˆ˜ë ¹             |

> **ì›ì¹™**
> - `OrderStatus.PAID`ê°€ ëœ ì´í›„ì—ë§Œ `Delivery`ë¥¼ `READY` ì´ìƒìœ¼ë¡œ ì „ì´
> - `DeliveryStatus.COMPLETED`ê°€ ë˜ë©´ `OrderStatus`ë¥¼ `COMPLETED`ë¡œ ì „ì´í•˜ëŠ” ê²ƒì„ ê¸°ë³¸ ë£°ë¡œ í•¨

### ìƒíƒœ ì¡°í•© ê·œì¹™ (Order â†” Payment â†” Delivery)

| OrderStatus | PaymentStatus | DeliveryStatus       | í—ˆìš© ì—¬ë¶€ / ì„¤ëª…                         |
|-------------|---------------|----------------------|-------------------------------------------|
| CREATED     | READY         | (ì—†ìŒ ë˜ëŠ” READY)    | ì£¼ë¬¸ ìƒì„± ì§í›„, ê²°ì œ ì „                  |
| CREATED     | IN_PROGRESS   | (ì—†ìŒ ë˜ëŠ” READY)    | ê²°ì œ ì§„í–‰ ì¤‘                             |
| PAID        | COMPLETED     | READY / PREPARING    | ê²°ì œ ì™„ë£Œ, ë°°ì†¡ ì¤€ë¹„ ìƒíƒœ                |
| SHIPPED     | COMPLETED     | IN_TRANSIT           | ë°°ì†¡ ì¤‘                                  |
| COMPLETED   | COMPLETED     | COMPLETED            | ì •ìƒì ìœ¼ë¡œ ì£¼ë¬¸ ì™„ë£Œ                     |
| CANCELED    | CANCELED/FAILED | (ì—†ìŒ ë˜ëŠ” READY)  | ê²°ì œ ì‹¤íŒ¨/ì·¨ì†Œë¡œ ì¸í•œ ì£¼ë¬¸ ì·¨ì†Œ         |
| REFUNDED    | CANCELED      | (ì •ì±…ì— ë”°ë¼ ìœ ì§€)   | í™˜ë¶ˆ ì²˜ë¦¬ ì™„ë£Œ, ë°°ì†¡ ìƒíƒœëŠ” ê¸°ë¡ ìœ ì§€    |

> ì´ í‘œëŠ” **ì½”ë“œ êµ¬í˜„ ì‹œ ê¸°ì¤€(ì •ë‹µ)**ìœ¼ë¡œ ì‚¬ìš©ë˜ë©°,  
> `Order`, `Payment`, `Delivery`ì˜ ë„ë©”ì¸ ë©”ì„œë“œì™€ ì„œë¹„ìŠ¤ ë ˆì´ì–´ëŠ”  
> ì´ ì „ì´ ê·œì¹™ì„ ìœ„ë°˜í•˜ëŠ” ìš”ì²­ì— ëŒ€í•´ `BusinessException`ì„ ë˜ì ¸ì•¼ í•©ë‹ˆë‹¤.

---

## ì‹¤í–‰ ë°©ë²•

1. MySQLì—ì„œ `sopo` ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

```sql
create database sopo default character set utf8mb4 collate utf8mb4_unicode_ci;


---

## ì‹¤í–‰ ë°©ë²•

1. MySQLì—ì„œ `sopo` ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

```sql
create database sopo default character set utf8mb4 collate utf8mb4_unicode_ci;
```

2. `application-local.yml` íŒŒì¼ì„ `src/main/resources` ê²½ë¡œì— ìƒì„±í•©ë‹ˆë‹¤.

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/sopo
    username: root
    password: (ë¹„ë°€ë²ˆí˜¸)
```

3. Gradle ë¹Œë“œ í›„ ì‹¤í–‰í•©ë‹ˆë‹¤.

```bash
./gradlew bootRun
```

---

## ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™

- ğŸ‰ Initial commit: í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¸íŒ…
- âœ¨ feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
- â™»ï¸ refactor: ë¦¬íŒ©í† ë§
- ğŸ› fix: ë²„ê·¸ ìˆ˜ì •
- ğŸ“„ docs: ë¬¸ì„œ ìˆ˜ì •

---

## ê°œë°œì

ParkYoungWon  
https://github.com/park4ever